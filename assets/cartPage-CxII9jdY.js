import{r as a,u as F,j as e,L as h}from"./index-BVCgPBt2.js";import{F as Z}from"./ShoppingCartIcon-DowVn52V.js";function M({title:s,titleId:r,...l},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const q=a.forwardRef(M);function k({title:s,titleId:r,...l},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{fillRule:"evenodd",d:"M4.25 12a.75.75 0 0 1 .75-.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const V=a.forwardRef(k);function A({title:s,titleId:r,...l},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const j=a.forwardRef(A);function B({title:s,titleId:r,...l},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{fillRule:"evenodd",d:"M7.5 6v.75H5.513c-.96 0-1.764.724-1.865 1.679l-1.263 12A1.875 1.875 0 0 0 4.25 22.5h15.5a1.875 1.875 0 0 0 1.865-2.071l-1.263-12a1.875 1.875 0 0 0-1.865-1.679H16.5V6a4.5 4.5 0 1 0-9 0ZM12 3a3 3 0 0 0-3 3v.75h6V6a3 3 0 0 0-3-3Zm-3 8.25a3 3 0 1 0 6 0v-.75a.75.75 0 0 1 1.5 0v.75a4.5 4.5 0 1 1-9 0v-.75a.75.75 0 0 1 1.5 0v.75Z",clipRule:"evenodd"}))}const N=a.forwardRef(B);function P({title:s,titleId:r,...l},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{fillRule:"evenodd",d:"M5.25 2.25a3 3 0 0 0-3 3v4.318a3 3 0 0 0 .879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 0 0 5.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 0 0-2.122-.879H5.25ZM6.375 7.5a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z",clipRule:"evenodd"}))}const S=a.forwardRef(P);function $({title:s,titleId:r,...l},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))}const I=a.forwardRef($);function D({title:s,titleId:r,...l},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{d:"M3.375 4.5C2.339 4.5 1.5 5.34 1.5 6.375V13.5h12V6.375c0-1.036-.84-1.875-1.875-1.875h-8.25ZM13.5 15h-12v2.625c0 1.035.84 1.875 1.875 1.875h.375a3 3 0 1 1 6 0h3a.75.75 0 0 0 .75-.75V15Z"}),a.createElement("path",{d:"M8.25 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM15.75 6.75a.75.75 0 0 0-.75.75v11.25c0 .087.015.17.042.248a3 3 0 0 1 5.958.464c.853-.175 1.522-.935 1.464-1.883a18.659 18.659 0 0 0-3.732-10.104 1.837 1.837 0 0 0-1.47-.725H15.75Z"}),a.createElement("path",{d:"M19.5 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}))}const y=a.forwardRef(D);function O(){const{cart:s,removeFromCart:r,updateQuantity:l,addCartSummary:n}=F(),[m,g]=a.useState(""),[o,v]=a.useState(null),[E,x]=a.useState(!1),c=()=>s.reduce((t,i)=>t+i.price*(i.quantity||1),0),b=()=>o?c()*(o.percent/100):0,u=()=>c()>=30?0:5,w=()=>{const t=c(),i=b(),f=u(),d=t-i+f;return isNaN(d)?"0.00":d.toFixed(2)},C=()=>{const t={BIENVENUE10:{percent:10,name:"BIENVENUE10"},FIDELE15:{percent:15,name:"FIDELE15"}};if(!m.trim()){x(!0);return}t[m.toUpperCase()]?(v(t[m.toUpperCase()]),x(!1)):x(!0)},R=t=>(t.price*(t.quantity||1)).toFixed(2),p=s.reduce((t,i)=>t+(i.quantity||1),0);return a.useEffect(()=>{Array.isArray(s)&&n({total:parseFloat(w())||0,totalItems:p,delivery:u(),discount:b(),items:s.map(t=>({name:t.name??"inconnu",description:t.description??"",price:t.price,quantity:t.quantity||1}))})},[s,o]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12",children:e.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Votre Panier"}),s.length>0&&e.jsxs("div",{className:"flex items-center bg-[#4bb930] text-white px-4 py-2 rounded-full",children:[e.jsx(N,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{className:"font-semibold",children:[p," article",p>1?"s":""]})]})]}),e.jsx("p",{className:"text-gray-600",children:"Gérez vos plats et passez à la caisse en toute simplicité."})]}),s.length===0?e.jsxs("div",{className:"bg-white p-16 rounded-3xl shadow-lg text-center",children:[e.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Z,{className:"h-16 w-16 text-gray-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Votre panier est vide"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Découvrez notre délicieux menu et ajoutez vos plats préférés pour commencer votre commande."}),e.jsxs(h,{to:"/menu",className:"inline-flex items-center bg-[#4bb930] text-white px-8 py-4 rounded-xl hover:bg-green-700 transition-all transform hover:scale-105 font-semibold shadow-lg",children:[e.jsx(N,{className:"h-5 w-5 mr-2"}),"Découvrir le menu"]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c()<30&&e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"h-6 w-6 text-amber-600 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-semibold text-amber-900",children:["Plus que ",(30-c()).toFixed(2)," € pour la livraison gratuite !"]}),e.jsx("div",{className:"w-full bg-amber-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-amber-600 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(c()/30*100,100)}%`}})})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:Array.isArray(s)&&s.map((t,i)=>e.jsxs("div",{className:`flex flex-col sm:flex-row items-start sm:items-center gap-4 p-6 hover:bg-gray-50 transition-colors ${i!==s.length-1?"border-b border-gray-100":""}`,children:[e.jsxs("div",{className:"relative group flex-shrink-0",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-28 h-28 object-cover rounded-xl shadow-md group-hover:shadow-xl transition-shadow"}),t.quantity>1&&e.jsxs("div",{className:"absolute -top-2 -right-2 bg-[#4bb930] text-white text-xs font-bold rounded-full w-7 h-7 flex items-center justify-center shadow-lg",children:["×",t.quantity]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:[t.name," ",e.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:t.description})]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[t.price.toFixed(2)," € / unité"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg shadow-sm",children:[e.jsx("button",{onClick:()=>l(t.id,(t.quantity||1)-1),className:"p-2.5 text-gray-600 hover:text-[#4bb930] hover:bg-white transition-all rounded-l-lg","aria-label":"Diminuer la quantité",children:e.jsx(V,{className:"h-4 w-4"})}),e.jsx("input",{type:"number",value:t.quantity||1,onChange:f=>{const d=parseInt(f.target.value||"1",10);l(t.id,isNaN(d)?1:d)},className:"w-14 text-center bg-transparent border-none focus:ring-0 font-semibold text-gray-900",min:"1",autoComplete:"off"}),e.jsx("button",{onClick:()=>l(t.id,(t.quantity||1)+1),className:"p-2.5 text-gray-600 hover:text-[#4bb930] hover:bg-white transition-all rounded-r-lg","aria-label":"Augmenter la quantité",children:e.jsx(j,{className:"h-4 w-4"})})]}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[R(t)," €"]})]})]}),e.jsx("button",{onClick:()=>r(t.id),className:"p-3 text-red-500 hover:text-white hover:bg-red-500 rounded-lg transition-all self-start sm:self-center","aria-label":"Supprimer l'article",title:"Supprimer",children:e.jsx(I,{className:"h-5 w-5"})})]},t.id))}),e.jsxs(h,{to:"/menu",className:"flex items-center justify-center text-[#4bb930] hover:text-green-700 font-semibold transition-colors py-3",children:[e.jsx(j,{className:"h-5 w-5 mr-2"}),"Ajouter d'autres plats"]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8 space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 border-b pb-4",children:"Récapitulatif"}),e.jsxs("div",{className:"w-full max-w-md mx-auto sm:max-w-lg md:max-w-xl lg:max-w-2xl",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700 mb-2",children:[e.jsx(S,{className:"h-4 w-4 mr-2 text-[#4bb930]"}),"Code promo"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"text",value:m,onChange:t=>{g(t.target.value),x(!1)},placeholder:"Entrez le code",className:`w-full sm:flex-1 px-4 py-2.5 border border-gray-300 rounded-lg 
                 focus:ring-2 focus:ring-[#4bb930] focus:border-transparent
                 text-sm sm:text-base`,disabled:!!o}),o?e.jsx("button",{onClick:()=>{v(null),g("")},className:`w-full sm:w-auto px-5 py-2.5 bg-red-500 text-white 
                   rounded-lg hover:bg-red-600 transition font-medium 
                   text-sm sm:text-base`,children:"Retirer"}):e.jsx("button",{onClick:C,className:`w-full sm:w-auto px-5 py-2.5 bg-gray-900 text-white 
                   rounded-lg hover:bg-gray-800 transition font-medium 
                   text-sm sm:text-base`,children:"Appliquer"})]}),o&&e.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("p",{className:"text-sm sm:text-base font-medium text-green-800",children:["✓ Code ",o.name," appliqué (-",o.percent,"%)"]})}),!o&&E&&e.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm sm:text-base font-medium text-red-800",children:"Code promo incorrect ou vide"})})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Sous-total"}),e.jsxs("span",{className:"font-semibold",children:[c().toFixed(2)," €"]})]}),o&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["Réduction (",o.percent,"%)"]}),e.jsxs("span",{className:"font-semibold",children:["-",b().toFixed(2)," €"]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(y,{className:"h-4 w-4 mr-1"}),"Livraison"]}),e.jsx("span",{className:"font-semibold",children:u()===0?e.jsx("span",{className:"text-green-600",children:"Gratuit"}):`${u().toFixed(2)} €`})]}),e.jsxs("div",{className:"flex justify-between items-center text-2xl font-bold text-gray-900 pt-4 border-t-2",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-[#4bb930]",children:[w()," €"]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center",children:[e.jsx(q,{className:"h-5 w-5 text-[#4bb930] mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Livraison estimée"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:"30-45 minutes"})]})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-3 pt-2",children:[e.jsx(h,{className:"flex items-center justify-center bg-[#4bb930] p-4  text-white py-4 rounded-xl hover:bg-green-700 transition-all transform hover:scale-105 font-bold shadow-lg text-lg",to:"/commander",children:"Passer la commande"}),e.jsx(h,{to:"/menu",className:"block text-center text-gray-600 hover:text-[#4bb930] font-medium transition py-2",children:"← Retour au menu"})]}),e.jsx("div",{className:"pt-4 border-t text-center",children:e.jsx("p",{className:"text-xs text-gray-500 flex items-center justify-center",children:"🔒 Paiement 100% sécurisé"})})]})})]})]})})}export{O as default};
